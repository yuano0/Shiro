import{r as l,j as D}from"./index-qegmBwH1.js";import"./owner-4YVbz2PN.js";import"./toast-qMk_Ov--.js";import"./StyledButton-Mj8l6PeD.js";import"./provider-jumr72cx.js";import{s as v}from"./store-gmK8mRDy.js";import{p as P}from"./AutoResizeHeight-pHZ_oyCK.js";import{a as b,u as p,b as m,c as f,r as u}from"./init-a0893ef4-4662SO8Z.js";let x=Object.freeze([]),S=e=>{let t=l.useRef(!1);!t.current&&(t.current=!0,e?.())},g=()=>{var e;let t=l.createContext(null),o=b(null),n=l.memo(a=>{var s;let{data:r,children:d}=a,c=(s=l.useContext(t))!==null&&s!==void 0?s:o,i=p(c);return S(()=>{i(r)}),l.useEffect(()=>{i(r)},[r]),l.useEffect(()=>(i(r),()=>{i(null)}),[]),d});return n.displayName="ModelDataProvider",{ModelDataAtomProvider:a=>{let{children:s,overrideAtom:r}=a;return D.jsx(t.Provider,{value:r??o,children:s})},ModelDataProvider:n,useModelDataSelector:(a,s)=>{var r;let d=(r=l.useContext(t))!==null&&r!==void 0?r:o,c=l.useCallback(i=>i?a(i):null,s||x);return m(v(d,c))},useSetModelData:()=>p((e=l.useContext(t))!==null&&e!==void 0?e:o),useGetModelData:()=>{var a;let s=(a=l.useContext(t))!==null&&a!==void 0?a:o,r=f();return()=>r.get(s)},useModelData:()=>{var a;return m((a=l.useContext(t))!==null&&a!==void 0?a:o)},setGlobalModelData:a=>{let s=u();s.set(o,P(s.get(o),a))},getGlobalModelData:()=>u().get(o),ModelDataAtomContext:t}},M=u();M.get,M.set;l.createContext(null);l.createContext({reset(e,t){}});var C=(e=>(e.Home="",e.Posts="/posts",e.Post="/posts/",e.Notes="/notes",e.Note="/notes/",e.NoteTopics="/notes/topics",e.NoteTopic="/notes/topics/",e.Timelime="/timeline",e.Login="/login",e.Page="/",e.Categories="/categories",e.Category="/categories/",e.Projects="/projects",e.Project="/projects/",e.Says="/says",e.Friends="/friends",e.Thinking="/thinking",e.PageDeletd="/common/deleted",e))(C||{});function N(e,t){let o=e;switch(e){case"/notes/":{o+=t.id,t.password&&(o+=`?password=${t.password}`);break}case"/posts/":{const n=t;o+=`${n.category}/${n.slug}`;break}case"/posts":{const n=t;o+=`?${new URLSearchParams(n).toString()}`;break}case"/timeline":{const n=t;o+=`?${new URLSearchParams(n).toString()}`;break}case"/notes/topics/":case"/categories/":case"/":{o+=t.slug;break}case"":{o="/";break}case"/projects/":{o+=t.id;break}}return o}const{ModelDataProvider:E,ModelDataAtomProvider:T,getGlobalModelData:L,setGlobalModelData:U,useModelDataSelector:z,useSetModelData:B}=g(),{ModelDataProvider:F,ModelDataAtomProvider:H,getGlobalModelData:O,setGlobalModelData:V,useModelDataSelector:q}=g();export{H as M,C as R,F as a,z as b,T as c,E as d,O as e,V as f,L as g,g as p,N as r,U as s,q as u};
