import{r as a,j as o}from"./index-qegmBwH1.js";import{t as f,u as y}from"./toast-qMk_Ov--.js";import{u as b}from"./use-is-dark-13kBJDHw.js";import{c as x}from"./helper-0r91fNX5.js";const d={},i={};function p(e){return new Promise((t,n)=>{const r=d[e];if(r==="loaded")return t(null);if(r==="loading"){i[e]=i[e]?[...i[e],[t,n]]:[[t,n]];return}const s=document.createElement("script");s.src=e,s.crossOrigin="anonymous",d[e]="loading",s.onload=function(){d[e]="loaded",t(null),i[e]&&(i[e].forEach(([c])=>{c(null)}),delete i[e])},s.onerror=function(c){this.onerror=this.onload=null,delete d[e],i[e].forEach(([,g])=>{g(c)}),delete i[e],n(c)},document.head.appendChild(s)})}const l=new Map;function u(e){if(l.has(e)){const n=l.get(e);return{$link:n,remove:()=>{n.parentNode&&n.parentNode.removeChild(n),l.delete(e)}}}const t=document.createElement("link");return t.href=e,t.rel="stylesheet",t.type="text/css",t.crossOrigin="anonymous",l.set(e,t),t.onerror=()=>{t.onerror=null,l.delete(e)},document.head.appendChild(t),{remove:()=>{t.parentNode&&t.parentNode.removeChild(t),l.delete(e)},$link:t}}const m={"code-wrap":"_code-wrap_1uhyk_1","copy-tip":"_copy-tip_1uhyk_11","language-tip":"_language-tip_1uhyk_49"},w=e=>{const{lang:t,content:n}=e,r=a.useCallback(()=>{navigator.clipboard.writeText(n),f.success("COPIED!")},[n]),s=a.useRef(null);return h(s),o.jsxs("div",{className:m["code-wrap"],children:[o.jsx("span",{className:m["language-tip"],"aria-hidden":!0,children:t?.toUpperCase()}),o.jsx("pre",{className:"line-numbers !bg-transparent","data-start":"1",children:o.jsx("code",{className:`language-${t??"markup"} !bg-transparent`,ref:s,children:n})}),o.jsx("div",{className:m["copy-tip"],onClick:r,"aria-hidden":!0,children:"Copy"})]})},k=({content:e,lang:t,className:n,style:r})=>{const s=a.useRef(null);return h(s),a.useEffect(()=>{window.Prism?.highlightElement(s.current)},[e,t]),o.jsx("pre",{className:x("!bg-transparent",n),style:r,"data-start":"1",children:o.jsx("code",{className:`language-${t??"markup"} !bg-transparent`,ref:s,children:e})})},h=e=>{const t=a.useRef(),n=y(),r=b();a.useInsertionEffect(()=>{const s=u(`https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/prism-themes/1.9.0/prism-one-${n?"light":r?"dark":"light"}.css`);if(t.current){const c=t.current;s.$link.onload=()=>{c.remove()}}t.current=s},[r,n]),a.useInsertionEffect(()=>{u("https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/prism/1.23.0/plugins/line-numbers/prism-line-numbers.min.css"),Promise.all([p("https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/prism/1.23.0/components/prism-core.min.js")]).then(()=>Promise.all([p("https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/prism/1.23.0/plugins/autoloader/prism-autoloader.min.js"),p("https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/prism/1.23.0/plugins/line-numbers/prism-line-numbers.min.js")])).then(()=>{e.current?requestAnimationFrame(()=>{window.Prism?.highlightElement(e.current),requestAnimationFrame(()=>{window.Prism?.highlightElement(e.current)})}):requestAnimationFrame(()=>{window.Prism?.highlightAll(),requestAnimationFrame(()=>{window.Prism?.highlightAll()})})})},[])},M=Object.freeze(Object.defineProperty({__proto__:null,BaseCodeHighlighter:k,HighLighter:w},Symbol.toStringTag,{value:"Module"}));export{k as B,M as C,w as H,p as a,u as l};
