import{R as r}from"./index-qegmBwH1.js";var $=typeof window>"u",p=$?r.useEffect:r.useLayoutEffect,x=0,_=()=>++x,m=!1;function S(){let[t,n]=r.useState(m?_:void 0);return p(()=>{t===void 0&&n(_()),m=!0},[]),t===void 0?t:`rwb-${t.toString(32)}`}function g(){return r.useMemo(()=>"useId"in r?r.useId:S,[])()}var v="__wrap_b",c="__wrap_n",h="__wrap_o",b=(t,n,e)=>{e=e||document.querySelector(`[data-br="${t}"]`);let o=e.parentElement,u=d=>e.style.maxWidth=d+"px";e.style.maxWidth="";let s=o.clientWidth,l=o.clientHeight,i=s/2-.25,a=s+.5,f;if(s){for(u(i),i=Math.max(e.scrollWidth,i);i+1<a;)f=Math.round((i+a)/2),u(f),o.clientHeight===l?a=f:i=f;u(a*n+s*(1-n))}e.__wrap_o||typeof ResizeObserver<"u"&&(e.__wrap_o=new ResizeObserver(()=>{self.__wrap_b(0,+e.dataset.brr,e)})).observe(o)},E=b.toString(),W='(self.CSS&&CSS.supports("text-wrap","balance")?1:2)',y=(t,n,e="")=>(e&&(e=`self.${c}!=1&&${e}`),r.createElement("script",{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:(t?"":`self.${c}=self.${c}||${W};self.${v}=${E};`)+e},nonce:n})),w=r.createContext({preferNative:!0,hasProvider:!1}),R=({preferNative:t=!0,nonce:n,children:e})=>{let o=r.useMemo(()=>({preferNative:t,hasProvider:!0}),[t]);return r.createElement(w.Provider,{value:o},y(!1,n),e)},M=({ratio:t=1,preferNative:n,nonce:e,children:o,...u})=>{let s=g(),l=r.useRef(),i=r.useContext(w),a=n??i.preferNative,f=u.as||"span";return p(()=>{a&&self[c]===1||l.current&&(self[v]=b)(0,t,l.current)},[o,a,t]),p(()=>{if(!(a&&self[c]===1))return()=>{if(!l.current)return;let d=l.current[h];d&&(d.disconnect(),delete l.current[h])}},[a]),r.createElement(r.Fragment,null,r.createElement(f,{...u,"data-br":s,"data-brr":t,ref:l,style:{display:"inline-block",verticalAlign:"top",textDecoration:"inherit",textWrap:a?"balance":"initial"},suppressHydrationWarning:!0},o),y(i.hasProvider,e,`self.${v}("${s}",${t})`))},H=M;export{R as $,H as L,M as w};
