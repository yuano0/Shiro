import{a as l,r as w}from"./init-a0893ef4-4662SO8Z.js";var v={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const b=Symbol((v?"production":void 0)!=="production"?"RESET":""),m=(t,r,n)=>(r.has(n)?r:r.set(n,t())).get(n),p=new WeakMap,h=(t,r,n,s)=>{const a=m(()=>new WeakMap,p,r),o=m(()=>new WeakMap,a,n);return m(t,o,s)};function P(t,r,n=Object.is){return h(()=>{const s=Symbol(),a=([i,e])=>{if(e===s)return r(i);const c=r(i,e);return n(e,c)?e:c},o=l(i=>{const e=i(o),c=i(t);return c instanceof Promise||e instanceof Promise?Promise.all([c,e]).then(a):a([c,e])});return o.init=s,o},t,r,n)}const I=t=>typeof t?.then=="function";function E(t=()=>{try{return window.localStorage}catch(n){(v?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},r){let n,s;const a={getItem:(o,i)=>{var e,c;const d=f=>{if(f=f||"",n!==f){try{s=JSON.parse(f,r?.reviver)}catch{return i}n=f}return s},u=(c=(e=t())==null?void 0:e.getItem(o))!=null?c:null;return I(u)?u.then(d):d(u)},setItem:(o,i)=>{var e;return(e=t())==null?void 0:e.setItem(o,JSON.stringify(i,r?.replacer))},removeItem:o=>{var i;return(i=t())==null?void 0:i.removeItem(o)}};return typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(a.subscribe=(o,i,e)=>{if(!(t()instanceof window.Storage))return()=>{};const c=d=>{if(d.storageArea===t()&&d.key===o){let u;try{u=JSON.parse(d.newValue||"")}catch{u=e}i(u)}};return window.addEventListener("storage",c),()=>{window.removeEventListener("storage",c)}}),a}const O=E();function S(t,r,n=O,s){const a=s?.getOnInit,o=l(a?n.getItem(t,r):r);return(v?"production":void 0)!=="production"&&(o.debugPrivate=!0),o.onMount=e=>{a||e(n.getItem(t,r));let c;return n.subscribe&&(c=n.subscribe(t,e,r)),c},l(e=>e(o),(e,c,d)=>{const u=typeof d=="function"?d(e(o)):d;return u===b?(c(o,r),n.removeItem(t)):u instanceof Promise?u.then(f=>(c(o,f),n.setItem(t,f))):(c(o,u),n.setItem(t,u))})}const y=w();export{S as a,y as j,P as s};
